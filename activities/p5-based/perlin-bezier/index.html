<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Perlin Bezier</title>
    <script src="/custom-elements/custom-navbar.js"></script>
    <script src="/custom-elements/custom-badges.js"></script>
    <script src="/custom-elements/custom-guizero.js"></script>
    <script type="module" src="/custom-elements/custom-code-block.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.1/lib/p5.min.js"></script>
    <script src="/custom-elements/custom-copyright.js"></script>
    <link rel="stylesheet" href="/style.css">
</head>

<body class="container">

    <cc-navbar active="p5" level="3" />

    <h1>Perlin Bezier
        <cc-badge-easy/>
    </h1>

    <h2 style="color: red;">UNDER CONSTRUCTION - UNDER CONSTRUCTION - UNDER CONSTRUCTION</h2>

    <section>
        <h2>What will I make?</h2>

        <p>A screensaver-like animation with two colourful curves moving smoothly.</p>

        <!-- 
from p5 import *
from random import randint

def setup():
    size(350, 350)
    background(0)
    no_fill()
    stroke_weight(5)
    noise_seed(randint(0, 100))

def draw():
    color_mode(RGB)
    background(0, 20)
    t = frame_count / 100
    color_mode(HSB)
    curve(t)

def curve(t):
    hue1 = int(noise(t) * 360)
    hue2 = (hue1 + 180) % 360

    w = width
    h = height
    x1 = noise(t / 2 + 10) * w
    x2 = noise(t / 2 + 20) * w
    x3 = noise(t / 2 + 30) * w
    x4 = noise(t / 2 + 40) * w
    y1 = noise(t / 2 + 50) * h
    y2 = noise(t / 2 + 60) * h
    y3 = noise(t / 2 + 70) * h
    y4 = noise(t / 2 + 80) * h

    stroke(hue1, 100, 100)
    bezier(x1, y1, x2, y2, x3, y3, x4, y4)
    stroke(hue2, 100, 100)
    bezier(w - x1, h - y1, w - x2, h - y2, w - x3, h - y3, w - x4, h - y4)
    
run()
        -->

        <div id="p5-perlin-bezier"></div>

        <script>
            new p5(p => {
                p.setup = function() {
                    p.createCanvas(350, 350);
                    p.background(0);
                    p.noFill();
                    p.strokeWeight(5);
                    p.noiseSeed(p.random(100));
                };

                p.draw = function() {
                    p.colorMode(p.RGB);
                    p.background(0, 20);
                    let t = p.frameCount / 100;
                    p.colorMode(p.HSB);
                    curve(t);
                };

                function curve(t) {
                    let hue1 = p.int(p.noise(t) * 360);
                    let hue2 = (hue1 + 180) % 360;

                    let w = p.width;
                    let h = p.height;
                    let x1 = p.noise(t / 2 + 10) * w;
                    let x2 = p.noise(t / 2 + 20) * w;
                    let x3 = p.noise(t / 2 + 30) * w;
                    let x4 = p.noise(t / 2 + 40) * w;
                    let y1 = p.noise(t / 2 + 50) * h;
                    let y2 = p.noise(t / 2 + 60) * h;
                    let y3 = p.noise(t / 2 + 70) * h;
                    let y4 = p.noise(t / 2 + 80) * h;

                    p.stroke(hue1, 100, 100);
                    p.bezier(x1, y1, x2, y2, x3, y3, x4, y4);
                    p.stroke(hue2, 100, 100);
                    p.bezier(w - x1, h - y1, w - x2, h - y2, w - x3, h - y3, w - x4, h - y4);
                }
            }, "p5-perlin-bezier");
        </script>
    </section>

    <section>
        <h2>Instructions</h2>
        <ol>
            <li>Open the <a href="https://editor.raspberrypi.org/en/projects/ajar-plank-most" target="_blank">starter project</a> and click the <strong>Run</strong> button.</li>
            <li>Login to be able to save your work.</li>
            <li>...</li>
        </ol>
    </section>

    <section>
        <h2>What can I try next?</h2>
        <p>...</p>
        <!--
        <p>Here are some things you can try to make the app better. They are independent from each other so you can pick just a couple or do them in a different order. If you get stuck, use the <em>Hints</em> button or read the Guizero documentation (see <a href="../index.html">Build an app with Guizero</a>).</p>
        <p>And of course you can also use your imagination and change the app as you like!</p>
        <ul>
            <li>Add a button to <strong>change the background color</strong>.
                <ol>
                    <li>Create a new <cc-gz-pushbutton/> with <code>text="Background"</code> (or an image) and linked to the <code>on_background</code> callback function.</li>
                    <li>Create a new <code>on_background</code> callback function to change the background color of <code>output_text</code>.</li>
                    <details class="hints">
                        <summary>Hints</summary>
                        <ul>
                            <li>Check the existing <code>on_color</code> callback function. It does almost what you need but it changes the foreground color instead of the background color.</li>
                            <li>Check the documentation for <cc-gz-textbox/> and find the property you need to change.</li>
                        </ul>
                    </details>
                </ol>
            </li>
        </ul>
        -->
    </section>

    <cc-copyright></cc-copyright>
</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

</html>
